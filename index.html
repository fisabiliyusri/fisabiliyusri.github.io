<html ng-app="ipLocation">

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

  <link rel="shortcut icon" href="/static/images/favicon.ico">
  <link rel="icon" type="image/png" href="/static/images/favicon.png">

	<title>IP Location - Angular</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.2.3/animate.min.css">
  <link rel="stylesheet"
        href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/styles/default.min.css">
	<link rel="stylesheet" href="index.css">
	
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js">
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular.js">
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular-route.js">
	</script>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.7/angular-resource.js">
	</script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.15.10/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

</head>


<body>
	<div class="container-fluid jumbotron">
		<a href="https://ipapi.co/"><h1>Find IP Address Location</h1></a>
    <h3>REST API + Angular</h3>
	</div>

	<div class="container" ng-controller="ipapiCtrl" ng-cloak>
		<input id="search" ng-model="search" placeholder="Search an IP Address" />
    <button ng-click="getJSON()" ng-init="getJSON()">Go</button>

    <div class="row">
        <div class="col-md-6 animated zoomInRight"> 
            <h3 class="vals" id="city">{{city}}</h3>
            <h3 class="vals" id="region">{{region}}, {{country}}</h3>
            <h4 class="vals2">{{eu}}</h4>
            <h4 class="vals2">Country calling Code : {{calling_code}}</h4>
            <h4 class="vals2">Currency : {{currency}}</h4>
            <hr>
        </div>
    </div>


  <h4>
    Angular Code Snippet : 
	</h4>

    <div class="row">
        <div class="col-md-12"> 
            <pre class="vals" id="angular">
              <code id="js-snippet" class="javascript">
                var app = angular.module('ipLocation', [])
                  .controller('ipapiCtrl', function($scope, $http){
                    $scope.getJSON = function() {
                      var search = $("#search").val();
                      $http.get('https://ipapi.co/'+ search + '/json/')
                        .then(function(response){ 
                          $scope.city = response.data.city; 
                          $scope.region = response.data.region;
                          $scope.country = response.data.country_name
                          if (response.data.in_eu){
                            $scope.eu = 'In Europe';
                          } else {
                            $scope.eu = 'Not in Europe';
                          }
                          $scope.calling_code = response.data.country_calling_code;
                          $scope.currency = response.data.currency;
                        });
                    }
                })              </code>               
            </pre>
        </div>
    </div>

    <div class="row text-center">
        <div class="col-md-12"> 
            <h3><a target="_blank" href="https://ipapi.co/">ipapi - IP Lookup | IP Location</a></h3>
        </div> 
    </div> 

</div>
<script src="index.js"></script>
</body>
</html>